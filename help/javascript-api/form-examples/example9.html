<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Forms 2.0 Example 9 Test Page</title>
  </head>
  <body>
    <h2>Example 9</h2>
    <p>Show a custom error message on validate based on custom business logic</p>

    <script src="//app-sjst.marketo.com/js/forms2/js/forms2.js"></script>
    <form id="mktoForm_1057"></form>
    <script>
      MktoForms2.loadForm("//app-sjst.marketo.com", "785-UHP-775", 1057, function (form){ 
        //listen for the validate event
        form.onValidate(function(){
          //get the values
          var vals = form.vals();
          //Check your condition
          if(vals.Country == "USA" && vals.vehicleSize != "Massive"){
            //prevent form submission
            form.submittable(false);
            //Show error message, pointed at VehicleSize element
            var vehicleSizeElem = form.getFormElem().find("#vehicleSize");
            form.showErrorMessage("All Americans must have a massive vehicle", vehicleSizeElem);
          }else{
            //enable submission for those who met the criteria.
            form.submittable(true);
          }
        });
      });
    </script>
  </body>
</html>